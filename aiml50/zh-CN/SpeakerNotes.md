# <a name="speaker-notes"></a>演讲者备注

## <a name="slides"></a>幻灯片

* 幻灯片：# 1

* 幻灯片：# 2
  * 机器学习和 DevOps 是目前两个热门词汇。 越来越多的组织可以使用机器学习，但是随着其易用性的增加，我们需要像管理其他软件一样管理 ML 项目。
  * MLOps（或称机器学习操作、用于机器学习的 DevOps）融汇了 DevOps 和机器学习，这就是我们接下来要考察的内容。

* 幻灯片：# 3
  * 在开始之前，可以保存此幻灯片的屏幕截图。 访问这些链接，可以找到此演示文稿和其中使用的所有资源。

* 幻灯片：# 4
  * 编程时，我们通过编写算法解决问题
  * 我们通过该算法运行数据（或输入）并获得答案
  * 重要的是，我们知道（或者可以想出）如何解决该问题
  * 当我们不知道应该使用什么样的算法时，会怎么样？ 例如， 照片中是否有鸟，或者申请人拖欠贷款的可能性有多大？

* 幻灯片：# 5
  * 这些是机器学习擅长解决的问题
  * 借助机器学习，我们要运用逆向思维来解决问题，即提供正确答案和相应输入的大量示例，让计算机来确定算法

* 幻灯片：# 6
  * 我们要做的就是让计算机生成一个“模型”来描述该数据

* 幻灯片：# 7
  * 这样做的好处是，可以用模型来替代要编写的算法（编写算法的前提是我们知道如何编写）。

* 幻灯片：# 8
  * 使用模型，可以获取预测结果
  * 注意：这些是预测结果，而不是我们所想的答案
  * 这些预测的质量和准确性取决于我们用于训练模型的方法和算法，以及用于训练模型的数据（这很重要）
  * 如果使用有偏差的数据来训练模型，就会得到有偏差的模型

* 幻灯片：# 9
  * [请参阅演示 #1](./demos/1-Show_Faulty_Prediction.md)

* 幻灯片：# 10
  * 让我们讨论一下创建预测模型时要进行的工作
  * 通常，会涉及数据发现、转换和准备工作… 还要生成模型并使用该数据训练模型… 然后评估该模型的适用性
  * 这是一个需要反复迭代的试验性过程，可能需要在很长时间内多次从头开始。
  * 实际部署模型时，所需的操作通常与我们以前部署软件的方式相似：将其打包，并让开发者或运营团队以某种方式对其进行部署

* 幻灯片：# 11
  * 创建过程通常在数据科学家的计算机或共享硬件上进行，以实现密集训练
  * 部署常常是通过传递 U 盘甚至是通过电子邮件进行的。

* 幻灯片：# 12
  * 让我们将其与良好的开发过程对比：后者包括计划、开发和测试、发布到测试和生产环境，然后监视生产中发生的情况…
  * 但 DevOps 只是为了实现软件开发？ 我们一开始谈论的算法是什么？

* 幻灯片：# 13
  * 让我们看看 Microsoft 的 DevOps 定义（朗读）。
  * 这里最重要的一个词是“价值”。 DevOps 不在于代码或 bug 修复，而在于持续交付值。
  * 如果你有一个预测模型，你可以改进它 - 这非常有价值。
  * 因此，这一定义没有排除 ML。
  * 让我们看一下可提供帮助的产品。

* 幻灯片：# 14

* 幻灯片：# 15
  * Azure 机器学习服务是一组服务，可帮助你完成 MLOps（或称适用于 ML 的 DevOps）工作。
  * 可以转到 ml.azure.com 了解它
  * 让我们深入了解它可帮助你处理哪些工作

* 幻灯片：# 16
  * 按各个点列出和说明

* 幻灯片：# 17
  * 我们将重点介绍“管道”。 管道是用于训练模型的工作流，我们想要生成一个管道，以便采用可重复的方式生成预测模型。

* 幻灯片：# 18
  * 你可能听说过 Azure Pipelines，但请务必注意，这是多种的产品的统称。
  * 我们稍后会讲到它们的不同之处，但大致说来，ML 管道适用于训练工作流，Azure Pipelines 适用于业务流程。 它们有不同的侧重点。

* 幻灯片：# 19
  * 区别是什么？ 为何要同时使用这两者？

* 幻灯片：# 20
  * ML 管道是针对特定于 ML 的工作流设计的。
  * 无人参与的运行 - ML 训练可能会运行很长时间，ML 管道可以很好地处理这种情况
  * 可重用性 - 工作流中的各个步骤可能会占用大量资源，不一定需要每次都运行。 如果数据准备步骤无需再次运行，重复使用上一次的输出即可。
  * 跟踪… - 存储的所有内容都专注于 ML，而不是生成常规软件

* 幻灯片：# 21
  * 相对而言，Azure Pipelines 是针对 CI/CD 设计的
  * 入口… - 管道是融入质量、检查和均衡的理想位置
  * 集成 - 与其他应用程序、项目和依赖项集成
  * 触发器 - 可以由任意多的原因触发业务流程

* 幻灯片：# 22
  * 构建管道时，我们实际上会用到这里的大多数服务

* 幻灯片：# 23
  * 使用数据集或数据存储训练数据，使用托管的计算运行试验以进行训练，最后生成模型。
  * 我们将部署该模型，但稍后再讲这个吧。

* 幻灯片：# 24
  * [请参阅演示 #2](./demos/2-Build_a_Pipeline_With_Notebooks.md)

* 幻灯片：# 25
  * 下面是我们要生成的内容 - AML 管道
  * 数据准备

* 幻灯片：# 26
  * 训练步骤

* 幻灯片：# 27
  * 模型注册

* 幻灯片：# 28
  * 我们还使用了数据集（或数据源）和计算

* 幻灯片：# 29
  * 接下来，让我们讨论一下团队合作。

* 幻灯片：# 30
  * 我们在软件开发中使用的一些良好的 DevOps 做法也适用于 ML 项目 - 我们来谈谈它们。

* 幻灯片：# 31
  * Jupyter Notebook 文件不仅包含输入，还包含输出。 这可能会导致混乱，并使文件难以合并。 所以，我们只需要输入单元格（即运行的代码）。
  * 我们还需要定义管道中的所有内容（这就是我们现在正在进行的工作）
  * 以及基础结构（如计算）和任何依赖项（python 依赖项、库等）。
  * 可能还包括某些数据 - 也许不是全部的数据（因为 ML 项目可能包含 PB 级的数据），但足以尝试进行一些概念证明

* 幻灯片：# 32
  * 已知的共享数据源意味着，每个数据科学家都针对相同的训练数据进行训练… 并使用该训练数据生成模型

* 幻灯片：# 33
  * 我们来谈谈 CI。 我们的目标是：
  * 了解源存储库中代码更改的时间
  * 如果我们更改了训练的方式，则刷新然后执行 AML 管道
  * 我们还希望检查代码质量 - 这是代码，因此我们需要测试、linting 等。
  * 我们还可以添加 PR 过程，以确保代码在合并到主代码（并启动可能很昂贵的训练工作！）之前仍可进行编译
  * 若要详细了解 Azure DevOps，请转到此处。

* 幻灯片：# 34
  * 重点在于 - 代码和软件就是全部。 即使不是你所习惯编写的代码，代码的质量也很重要！

* 幻灯片：# 35
  * [请参阅演示 #3](./demos/3-Show_The_Build.md)

* 幻灯片：# 36
  * 但我们仍未部署任何内容 - 我们有一个新训练的模型，那么如何部署？
  * AML 服务能够采用模型并将其部署到 ACI 或 AKS - 我们将使用它，但不是直接从此处的 UI 使用。

* 幻灯片：# 37
  * 我们可以仅向 AML 管道添加另一个步骤，但我们不想这样做 - 我们想要对部署进行更多的控制。

* 幻灯片：# 38
  * 持续交付当然可以应用于 ML。
  * 我们将使用 Azure Pipelines 进行持续交付。
  * 注册新模型后，我们将启动部署
  * 借助 Azure Pipelines，我们可以在将新模型投入使用之前部署到测试和暂存站点
  * 我们可以在预生产环境中运行测试
  * 重要的是，我们要做的就是使用用于控制其他软件发布的技术来控制发布。

* 幻灯片：#39
  * [请参阅演示 #4](./demos/4-Show_The_Release.md)

* 幻灯片：# 40
  * 不要立即将新模型投入生产 - 你不会对其他软件这么做，为什么要对 ML 这样？

* 幻灯片：# 41
  * 我们创建了以下内容：
  * 用于训练的管道，它是一个 AML 管道，专用于训练我们的模型
  * 获得新模型时，我们将在 Azure DevOps 中启动部署管道
  * 部署到 ACI 并运行一些测试，如果结果良好，可以部署到 AKS

* 幻灯片：# 42
  * 就像其余软件一样，我们不期望将模型投入生产就一劳永逸，假定它始终可以正常工作。
  * 因此我们需要重新训练策略。
  * 可以是周期性的重新训练，也可以是在生产中数据差异过大而无法获得想要的结果时重新训练。
  * Azure ML 服务为此提供了一个解决方案

* 幻灯片：# 43
  * 训练时，我们可以从已知的定型数据集进行此操作
  * 当我们最终将模型部署到生产环境时，可以将输入存储在另一个数据集中，也就是我们的推理数据集

* 幻灯片：# 44
  * AML 服务将定期让我们比较这两个数据集以查找“数据偏移”。 如果在生产中看到的结果与模型的训练目标偏移过大，可以开始新的训练过程以生成新模型。
  * 此操作可以自动完成

* 幻灯片：# 45
  * 当然，如果更改代码，还需要同时更改训练管道，这就是我们今天介绍的内容。

* 幻灯片：# 46
  * 重要的是，这只是一个示例 - 在这里，我们将模型部署到容器，但或许需要将模型嵌入到软件中
  * 又或许我们根本不使用 AML，而是使用其他认知服务，它们都有 Azure Pipelines 可以与之通信的良好 API。
  * 最终，Azure Pipelines 可以协调任何内容，因此，无论使用哪种工具，都可以用它来管理训练。

* 幻灯片：# 47
  * 总之，

* 幻灯片：# 48

* 幻灯片：# 49
  * 可在下面的链接中找到更多资源和源代码

* 幻灯片：# 50
  * 你还可查看我们的认证，成为经 Microsoft 认证的 Azure 数据科学家助理和/或经 Microsoft 认证的 Azure AI 工程师助理

* 幻灯片：# 51
  * Microsoft 首次向所有活动参与者提供免费的认证考试。 你可利用本次优惠来获取任何基础知识认证或职位专属认证。
  * 此优惠适用于一项免费考试，在活动后 6 个月内有效。
  * 你可以来活动展示厅在我们的现场测试中使用本次优惠，也可在活动之后使用注册本次活动所用的电子邮件地址享有此优惠。 （政府 官员无优惠资格）
  * 如果你选择了接收 Microsoft 的推广邮件，则将在展会后收到一封附有详细信息的电子邮件。

* 幻灯片：# 52
